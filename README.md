# 快捷剪贴板管理工具

抢票时刻，分秒必争！为了帮助您在紧张激烈的抢票过程中提升效率，我们推出了**快捷剪贴板管理工具**。这个项目提供了两种版本：专为macOS设计的Swift版本，以及跨平台覆盖的Python版本。无论您是macOS用户还是其他操作系统的用户，这款工具都能为您带来顺畅的体验。

## 目录结构

```
.
├── mac/
│   ├── clipboard_monitor.swift    # macOS版本源代码
│   ├── clipboard_paste            # 编译后的可执行文件
│   ├── build_and_run.sh           # 编译和运行脚本
│   └── texts.txt                  # 预设文本配置文件
└── python/
    ├── clipboard_manager.py       # Python版本源代码
    ├── requirements.txt           # Python依赖文件
    └── texts.txt                  # 预设文本配置文件
```

## 功能亮点

- **快速切换**：只需轻按Shift键，即可在多个预设文本之间迅速切换，告别手动输入的繁琐。
- **自动粘贴**：轻松实现自动粘贴，确保您在关键时刻不会错失良机。
- **易于配置**：通过简单的文本文件进行预设文本的配置，灵活满足您的需求。
- **即时反馈**：运行时在终端中显示当前可用的预设文本，便于用户选择。

## 使用场景

- **抢票利器**：在高峰期抢票时，快速输入身份证号、手机号等信息，抢占先机。
- **高效办公**：在处理重复性工作时，如客户联系信息、常用回复等，提升办公效率。
- **学习助手**：在学习和研究中快速粘贴常用资料和笔记，提高学习效果。

## 安全与便捷

- **权限安全**：要求适当的辅助功能权限设置以确保安全，同时保障程序的正常运行。
- **跨平台支持**：macOS用户可享受Swift版本的高性能体验，而Python版本则为其他操作系统提供便利。
- **自定义灵活**：直接编辑文本文件即可更新预设内容，简单直观。
- **弹性扩展**：开放源代码，用户可以根据需要轻松进行二次开发。

无论是抢票、办公还是学习，这款工具都将成为您的得力助手，让您以最快的速度完成任务。马上下载使用，体验前所未有的快捷与高效！

## 配置预设文本

两个版本都使用 `texts.txt` 文件来存储预设文本。文件格式如下：
- 每行一个文本内容
- 空行会被自动忽略
- 使用 UTF-8 编码保存
- 支持多语言字符

示例 `texts.txt`:
```
姓名
身份证号
手机号
```

## macOS 版本（Swift）

### 前置条件

- macOS 操作系统
- Xcode Command Line Tools（用于编译Swift代码）
- 终端访问权限

### 安装步骤

1. 打开终端，进入 `mac` 目录
2. 确保 `texts.txt` 文件存在且包含所需的文本内容
3. 运行编译脚本：
   ```bash
   ./build_and_run.sh
   ```
4. 首次运行时需要授予辅助功能权限：
   - 打开系统偏好设置
   - 进入隐私与安全性 > 辅助功能
   - 点击左下角的锁图标解锁
   - 找到并勾选终端（Terminal）

### 使用方法

1. 运行程序后，预设的文本内容会显示在终端中
2. 按下 Shift 键可以切换不同的文本内容并自动粘贴
3. 按 ESC 键退出程序
4. 可随时查看和编辑文本文件以调整预设内容

## Python 版本

### 前置条件

- Python 3.x
- pip（Python包管理器）
- 以下Python包：
  - pynput
  - pyperclip

### 安装步骤

1. 进入 `python` 目录
2. 确保 `texts.txt` 文件存在且包含所需的文本内容
3. 安装依赖：
   ```bash
   pip install -r requirements.txt
   ```

### 使用方法

1. 运行程序：
   ```bash
   python clipboard_manager.py
   ```
2. 程序启动后，预设的文本内容会显示在终端中
3. 按下 Shift 键可以自动粘贴预设文本（会自动执行Command+V）
4. 按 ESC 键退出程序
5. 支持在不同平台上使用，可根据需求修改配置文件

## 注意事项

1. **权限设置**
   - 两个版本都需要授予终端辅助功能权限
   - 这是为了能够监听全局键盘事件
   - 如果没有正确设置权限，程序将无法正常运行

2. **安全性考虑**
   - 预设文本现在存储在外部的 `texts.txt` 文件中
   - 确保 `texts.txt` 文件的访问权限适当设置
   - 不建议在预设文本中存储敏感信息

3. **使用建议**
   - 建议在使用前先测试程序功能
   - 确保了解如何快速退出程序（ESC键）
   - 在重要文档编辑时谨慎使用，以防意外粘贴

4. **版本选择**
   - macOS用户建议使用Swift版本，性能更好
   - 需要跨平台支持时使用Python版本
   - Python版本需要额外安装依赖包，确保依赖已安装

## 自定义修改

如需修改预设文本，直接编辑 `texts.txt` 文件：
1. 使用文本编辑器打开 `texts.txt`
2. 每行输入一个预设文本
3. 保存文件（确保使用UTF-8编码）
4. 重新运行程序以加载新的文本内容
5. 可根据需要添加或删除预设项，灵活调整

## 故障排除

1. 如果程序无响应：
   - 检查是否已授予辅助功能权限
   - 检查是否有其他程序占用相同的快捷键
   - 确保系统兼容性，查看系统日志获取错误信息

2. 如果无法读取文本：
   - 确保 `texts.txt` 文件存在于正确位置
   - 检查文件编码是否为 UTF-8
   - 确保文件至少包含一行非空文本
   - 重新检查文件路径和权限

3. Python版本特定问题：
   - 确保所有依赖包都已正确安装
   - 如果粘贴不工作，检查 pyperclip 是否正确安装
   - 在不同操作系统上测试运行，检查兼容性

4. Swift版本特定问题：
   - 确保已安装 Xcode Command Line Tools
   - 如果编译失败，尝试重新运行 build_and_run.sh
   - 查看终端输出的错误信息，进行相应调整
